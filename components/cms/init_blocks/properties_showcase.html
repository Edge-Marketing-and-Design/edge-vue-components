<section class="bg-gray-100 text-gray-900 py-16">
  <div class="max-w-7xl mx-auto px-4 py-4">
    <div class="text-center space-y-2">
      <h2 class="text-3xl md:text-4xl font-semibold tracking-wide">
        {{{#text {"field": "mainHeader", "value": "" }}}}
      </h2>
      <p class="text-base text-gray-600">
        {{{#text {"field": "subHeader", "value": "" }}}}
      </p>
    </div>
  </div>
  <div class="max-w-7xl mx-auto px-4 grid md:grid-cols-2 lg:grid-cols-3 gap-6">
    {{{#array {"field":"showcaseproperties", "schema":{"listing_price": "money", "square_feet": "number", "acres": "number"}, "api": "https://api.clearwaterproperties.com/api/front/properties", "apiField": "data", "apiQuery": "", "apiLimit": 6, "value": []}}}}
      <div class="{{loading}}">
        <div class="block bg-white shadow-md rounded-lg overflow-hidden animate-pulse">
          <!-- Image skeleton -->
          <div class="relative w-full h-64 bg-gray-200">
            <!-- Top left badge -->
            <div class="absolute top-2 left-2 w-16 h-5 bg-gray-300 rounded"></div>
            <!-- Bottom right badge -->
            <div class="absolute bottom-2 right-2 w-20 h-5 bg-gray-300 rounded"></div>
          </div>

          <!-- Content skeleton -->
          <div class="p-4 space-y-3">
            <!-- Price -->
            <div class="w-32 h-6 bg-gray-300 rounded"></div>
            <!-- Address -->
            <div class="w-48 h-4 bg-gray-200 rounded"></div>
            <!-- Stats -->
            <div class="flex gap-4 mt-2">
              <div class="w-12 h-4 bg-gray-200 rounded"></div>
              <div class="w-12 h-4 bg-gray-200 rounded"></div>
              <div class="w-16 h-4 bg-gray-200 rounded"></div>
            </div>
          </div>
        </div>
      </div>
      <div class="{{loaded}}">
        <a  class="block bg-white shadow-md rounded-lg overflow-hidden">
          <div class="relative w-full h-64 bg-gray-200 bg-[url('/images/placeholder.jpg')] bg-cover bg-center">
            <img src="{{item.thumbnail_url}}" alt="For Sale" loading="lazy"  class="w-full h-full object-cover">

            <div class="absolute top-2 left-2 bg-black/70 text-white px-2 py-1 rounded text-xs">
              {{item.listing_status}}
            </div>
            <div class="absolute bottom-2 right-2 bg-white/80 text-gray-800 px-2 py-1 rounded text-xs">
              MLSÂ® {{item.display_mlsnumber}}
            </div>
          </div>

          <div class="p-4">
            <h4 class="text-xl font-bold text-gray-800">{{item.listing_price}}</h4>
            <div class="text-gray-600 mt-1 truncate">
              {{item.display_address}}
            </div>
            <div class="flex gap-4 mt-2 text-sm text-gray-700">
              {{{#if {"cond": "item.total_bedrooms > 0"}}}}
                <span>{{item.total_bedrooms}} Beds</span>
              {{{/if}}}
              {{{#if {"cond": "item.total_bathrooms > 0"}}}}
              <span>{{item.total_bathrooms}} Baths</span>
              {{{/if}}}
              {{{#if {"cond": "item.property_type == 'ranch'"}}}}
                  <span>{{item.acres}} Acres</span>
              {{{#else}}}
                {{{#if {"cond": "item.square_feet > 0"}}}}
                  <span>{{item.square_feet}} Sq.Ft.</span>
                {{{/if}}}
              {{{/if}}}
            </div>
          </div>
        </a>
      </div>
    {{{/array}}}
  </div>
    <div class="max-w-7xl mx-auto px-4 py-4 text-center">
    <a
      href="{{{#text {"field": "buttonURL", "value": "" }}}}"
      class="inline-flex items-center justify-center rounded-lg px-5 py-3 text-sm font-semibold bg-white text-gray-900 ring-1 ring-gray-300 shadow hover:bg-gray-50 hover:shadow-md focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 focus-visible:ring-gray-900 transition"
    >
      {{{#text {"field": "buttonText", "value": "View More" }}}}
    </a>
  </div>
</section>